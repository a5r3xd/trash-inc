<!DOCTYPE html>
<html>
 <head>
  <title>Trash Remover</title>
 </head>
 <body>
  <p>Oh noes! You found a small lake, full of trash! You want to get rid of the trash though.</p>
  <p>Trash remaining: <span id="ctrash"></span><span class="unit"></span>/<span id="ttrash"></span><span class="unit"></span></p>
  <p>Trash Points: <span id="rtrash"></span></p>
  <button onclick="remove_trash()">Pick up <span id="trashpc"></span><span class="unit"></span> of trash</button>

  <script>
   // essential variables
   let total_trash = 5000;
   let current_trash = 5000;
   let trash_points = 0;
   let trash_per_click = 1;

   const ctrash = document.getElementById("ctrash");
   const ttrash = document.getElementById("ttrash");
   const rtrash = document.getElementById("rtrash");
   const trashpc = document.getElementById("trashpc");

   // all unit spans
   const units = document.querySelectorAll(".unit");

   trashpc.style.color = "green";
   units.forEach(u => u.style.color = "green");

   // function to format a number with proper mass unit
   function formatMass(value) {
     if (value >= 1000) {
       return (value / 1000).toFixed(2);
     } else {
       return value.toFixed(2);
     }
   }

   function getUnit(value) {
     return value >= 1000 ? " kg" : " g";
   }

   // update the UI
   function updateUI() {
     ctrash.textContent = formatMass(current_trash);
     ttrash.textContent = formatMass(total_trash);
     trashpc.textContent = formatMass(trash_per_click);
     rtrash.textContent = trash_points; // no units for points

     // update all unit spans for mass values only
     units.forEach((u, index) => {
       if (index === 0) u.textContent = getUnit(current_trash);  // current trash
       if (index === 1) u.textContent = getUnit(total_trash);    // total trash
       if (index === 2) u.textContent = getUnit(trash_per_click);// per click
     });
   }

   function remove_trash() {
     if (current_trash > 0) {
       current_trash -= trash_per_click;
       trash_points += trash_per_click;
       updateUI();
     }
   }

   updateUI();
  </script>
</body>
</html>
